Test (2B): no agreement if too many followers disconnect ...
2B 4: 2024/03/03 19:53:47 send 0 node
2B 4: 2024/03/03 19:53:47 0 is not leader
2B 4: 2024/03/03 19:53:47 send 1 node
2B 4: 2024/03/03 19:53:47 1 is not leader
2B 4: 2024/03/03 19:53:47 send 2 node
2B 4: 2024/03/03 19:53:47 2 is not leader
2B 4: 2024/03/03 19:53:47 send 3 node
2B 4: 2024/03/03 19:53:47 3 is not leader
2B 4: 2024/03/03 19:53:47 send 4 node
2B 4: 2024/03/03 19:53:47 4 is not leader
2B 4: 2024/03/03 19:53:47 send 0 node
2B 4: 2024/03/03 19:53:47 0 is not leader
2B 4: 2024/03/03 19:53:47 send 1 node
2B 4: 2024/03/03 19:53:47 1 is not leader
2B 4: 2024/03/03 19:53:47 send 2 node
2B 4: 2024/03/03 19:53:47 2 is not leader
2B 4: 2024/03/03 19:53:47 send 3 node
2B 4: 2024/03/03 19:53:47 3 is not leader
2B 4: 2024/03/03 19:53:47 send 4 node
2B 4: 2024/03/03 19:53:47 4 is not leader
2B 4: 2024/03/03 19:53:47 send 0 node
2B 4: 2024/03/03 19:53:47 0 is not leader
2B 4: 2024/03/03 19:53:47 send 1 node
2B 4: 2024/03/03 19:53:47 1 is not leader
2B 4: 2024/03/03 19:53:47 send 2 node
2B 4: 2024/03/03 19:53:47 2 is not leader
2B 4: 2024/03/03 19:53:47 send 3 node
2B 4: 2024/03/03 19:53:47 3 is not leader
2B 4: 2024/03/03 19:53:47 send 4 node
2B 4: 2024/03/03 19:53:47 4 is not leader
2B 4: 2024/03/03 19:53:47 send 0 node
2B 4: 2024/03/03 19:53:47 0 is not leader
2B 4: 2024/03/03 19:53:47 send 1 node
2B 4: 2024/03/03 19:53:47 1 is not leader
2B 4: 2024/03/03 19:53:47 send 2 node
2B 4: 2024/03/03 19:53:47 2 is not leader
2B 4: 2024/03/03 19:53:47 send 3 node
2B 4: 2024/03/03 19:53:47 3 is not leader
2B 4: 2024/03/03 19:53:47 send 4 node
2B 4: 2024/03/03 19:53:47 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 3 is not leader
2B 4: 2024/03/03 19:53:48 send 4 node
2B 4: 2024/03/03 19:53:48 4 is not leader
2B 4: 2024/03/03 19:53:48 node 4 start term 2 election
2B 4: 2024/03/03 19:53:48 node 4 term 2 election success
2B 4: 2024/03/03 19:53:48 node 0 start term 2 election
2B 4: 2024/03/03 19:53:48 node 3 get append entity request from 4, []
2B 4: 2024/03/03 19:53:48 node 0 get append entity request from 4, []
2B 4: 2024/03/03 19:53:48 node 2 get append entity request from 4, []
2B 4: 2024/03/03 19:53:48 node 0 get heart &{2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 2 get heart &{2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 1 get append entity request from 4, []
2B 4: 2024/03/03 19:53:48 node 1 get heart &{2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 3 get heart &{2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 4 send heart to 0, content is {2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 4 send heart to 1, content is {2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 4 send heart to 2, content is {2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 node 4 send heart to 3, content is {2 4 0 0 [] 0}
2B 4: 2024/03/03 19:53:48 send 0 node
2B 4: 2024/03/03 19:53:48 0 is not leader
2B 4: 2024/03/03 19:53:48 send 1 node
2B 4: 2024/03/03 19:53:48 1 is not leader
2B 4: 2024/03/03 19:53:48 send 2 node
2B 4: 2024/03/03 19:53:48 2 is not leader
2B 4: 2024/03/03 19:53:48 send 3 node
2B 4: 2024/03/03 19:53:48 node 4 is leader for idx 1 entry [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 4 finish start with entry 10
2B 4: 2024/03/03 19:53:48 4 is leader, index is 1, cmd is 10
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 node 4 before copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 4 try send 1 index to 0, {2 4 0 0 [{2 10}] 0}
2B 4: 2024/03/03 19:53:48 node 4 after copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 0 get append entity request from 4, [{2 10}]
2B 4: 2024/03/03 19:53:48 node 0 get entity from 4
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 0 net success
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 0 success
2B 4: 2024/03/03 19:53:48 node 4 before copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 4 try send 1 index to 1, {2 4 0 0 [{2 10}] 0}
2B 4: 2024/03/03 19:53:48 node 4 after copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 1 get append entity request from 4, [{2 10}]
2B 4: 2024/03/03 19:53:48 node 1 get entity from 4
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 1 net success
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 1 success
2B 4: 2024/03/03 19:53:48 node 4 before copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 4 try send 1 index to 2, {2 4 0 0 [{2 10}] 0}
2B 4: 2024/03/03 19:53:48 node 4 after copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 2 get append entity request from 4, [{2 10}]
2B 4: 2024/03/03 19:53:48 node 2 get entity from 4
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 2 net success
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 2 success
2B 4: 2024/03/03 19:53:48 node 4 before copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 4 try send 1 index to 3, {2 4 0 0 [{2 10}] 0}
2B 4: 2024/03/03 19:53:48 node 4 after copy [{0 0} {2 10}]
2B 4: 2024/03/03 19:53:48 node 3 get append entity request from 4, [{2 10}]
2B 4: 2024/03/03 19:53:48 node 3 get entity from 4
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 3 net success
2B 4: 2024/03/03 19:53:48 node 4 sent 1 index to 3 success
2B 4: 2024/03/03 19:53:48 leader 4 konw 1 index [{0 0} {2 10}] is commited, agree is 5, need is 3 
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 node 1 start term 3 election
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:48 node 1 term 3 election success
2B 4: 2024/03/03 19:53:48 node 0 get append entity request from 1, []
2B 4: 2024/03/03 19:53:48 node 3 get append entity request from 1, []
2B 4: 2024/03/03 19:53:48 node 3 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 node 0 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 node 2 get append entity request from 1, []
2B 4: 2024/03/03 19:53:48 node 2 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 node 1 send heart to 3, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 node 1 send heart to 0, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 node 1 send heart to 2, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:48 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 node 2 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 3 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 3 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 2 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 0 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 0 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 3, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 2, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 0, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 node 0 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 2 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 3 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 3 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 0 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 2 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 3, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 0, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 2, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 node 3 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 3 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 2 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 2 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 3, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 2, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 0 get append entity request from 1, []
2B 4: 2024/03/03 19:53:49 node 0 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 node 1 send heart to 0, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:49 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 node 2 get append entity request from 1, []
2B 4: 2024/03/03 19:53:50 node 2 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 node 3 get append entity request from 1, []
2B 4: 2024/03/03 19:53:50 node 3 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 node 0 get append entity request from 1, []
2B 4: 2024/03/03 19:53:50 node 0 get heart &{3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 node 1 send heart to 2, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 node 1 send heart to 3, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 node 1 send heart to 0, content is {3 1 1 2 [] 0}
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
2B 4: 2024/03/03 19:53:50 0 node think 1, <nil> is commited
--- FAIL: TestFailNoAgree2B (2.58s)
    config.go:475: one(10) failed to reach agreement
FAIL
exit status 1
FAIL	6824/raft	2.594s
